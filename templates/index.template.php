<?php import("utils.RssReader"); ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html>    <head>        <?php include('template-parts/meta.part.php'); ?>        <!--link rel="stylesheet" href="http://braindump.3void.com/wp-content/themes/3void_v1/style.css" media="print, screen"/-->        <link rel="stylesheet" href="/css/blogfeed.css" media="print, screen">        <?php _part("template-parts/google-analytics.part.php");?>    </head>    <body>        <div id="page">            <?php include('template-parts/header.part.php'); ?>            <div id="columns">                <div id="left_column">                    <p>                        <?=content("content")?>                    </p>                    <?php                    class WPItem{                        public $link;                        public $title;                        public $description;                        public $date;                        public $content;                        public $commentRss;                        public $commentCount;                        public function get(){                            $html = "<div class=\"wordpress_item\">\n";                            $html .= "<a class=\"wordpress_title\" href=\"".$this->link."\"  title=\"".$this->title."\">".$this->title."</a>\n";                            //$html .= "<a class=\"wordpress_link\" href=\"".$this->link."\" title=\"".$this->title."\">[link]</a>";                            $html .= "<span class=\"wordpress_pubdate\">".$this->date."</span>\n";                            $html .= "<div class=\"wordpress_description\">".$this->description."</div>\n";//                            $html .= "<div class=\"wordpress_content\">".$this->content."</div>";                            $html .= "<p class=\"postactions\">\n";                            $html .= "<a href=\"".$this->link."#comments\"  title=\"Comments for this post\">Comments (".$this->commentCount.")</a>\n";                            $html .= "<a href=\"".$this->commentRss."\" title=\"RSS for this post\" class=\"rss_small\">&nbsp;</a>\n";                            $html .= "<a href=\"http://twitter.com/share?via=maxdupenois&amp;url=".urlencode($this->link)."\" class=\"tweet\" title=\"Tweet this post\" target=\"_blank\">&nbsp;</a>\n";                            $html .= "</p>\n";                            $html .= "</div>\n";                            return $html;                        }                    }                    $GLOBALS['current_wp_item'] = null;                    function wpStart($startElement, $elementList, $currentTitle){                        switch($startElement["name"]){                            case "ITEM":                                $GLOBALS['current_wp_item'] = new WPItem();                            break;                            default:                                return "";                        }                        return "";                    }                    function wpData($data, $currentElement, $elementList, $currentTitle){                        switch($currentElement["name"]){                            case "DESCRIPTION":                                if($GLOBALS['current_wp_item']!=null){                                    $GLOBALS['current_wp_item']->description .= $data;                                }                                break;                            case "CONTENT:ENCODED":                                if($GLOBALS['current_wp_item']!=null){                                    $GLOBALS['current_wp_item']->content .= $data;                                }                                break;                            case "PUBDATE":                                //Mon, 01 Feb 2010 16:23:37 +0000                                $format = '%a, %d %b %Y %H:%M:%S';                                $dateArr=strptime($data, $format);                                $date = mktime($dateArr['tm_hour'], $dateArr['tm_min'],                                $dateArr['tm_sec'], $dateArr['tm_mon']+1,                                $dateArr['tm_mday'], 1900+$dateArr['tm_year']);                                if($GLOBALS['current_wp_item']!=null){                                    $GLOBALS['current_wp_item']->date = date("H:i d F, Y", $date);                                }                                break;                            case "TITLE":                                if($GLOBALS['current_wp_item']!=null){                                    $GLOBALS['current_wp_item']->title .= $data;                                }                                break;                            case "LINK":                                if($GLOBALS['current_wp_item']!=null){                                    $GLOBALS['current_wp_item']->link .= $data;                                }                                break;                            case "SLASH:COMMENTS":                                if($GLOBALS['current_wp_item']!=null){                                    $GLOBALS['current_wp_item']->commentCount .= $data;                                }                                break;                            case "WFW:COMMENTRSS":                                if($GLOBALS['current_wp_item']!=null){                                    $GLOBALS['current_wp_item']->commentRss .= $data;                                }                                break;                            default:                                return "";                        }                        return "";                    }                    function wpEnd($endingElement, $elementList, $currentTitle){                        switch($endingElement["name"]){                            case "ITEM":                                if($GLOBALS['current_wp_item']!=null){                                    $out = $GLOBALS['current_wp_item']->get();                                    $GLOBALS['current_wp_item'] = null;                                    return $out;                                }                            break;                            default:                                return "";                        }                    }                                      $reader = new RssReader("http://braindump.3void.com/?feed=rss2", false);                    $reader->setElementDisplay("ITEM", "wpStart","wpEnd", "wpData");                                        $reader->setElementDisplay("LINK", "wpStart","wpEnd", "wpData");                    $reader->setElementDisplay("TITLE", "wpStart","wpEnd", "wpData");                    $reader->setElementDisplay("PUBDATE", "wpStart","wpEnd", "wpData");                    $reader->setElementDisplay("CONTENT:ENCODED", "wpStart","wpEnd", "wpData");                    $reader->setElementDisplay("SLASH:COMMENTS", "wpStart","wpEnd", "wpData");                    $reader->setElementDisplay("WFW:COMMENTRSS", "wpStart","wpEnd", "wpData");                    $reader->setElementDisplay("DESCRIPTION", "wpStart","wpEnd", "wpData");                    echo $reader->parse();                    ?>                </div>                <div id="right_column">                    <?php include('template-parts/links.part.php'); ?>                    <?php include('template-parts/twitter-feed.part.php'); ?>                </div>                <div class="clear"><!--clear--></div>            </div>                                 <?php include('template-parts/footer.part.php'); ?>        </div>    </body></html>